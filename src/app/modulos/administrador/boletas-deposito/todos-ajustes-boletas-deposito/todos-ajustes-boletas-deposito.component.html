<div class="title">
    <h2>Todos los ajustes sobre boletas</h2>
</div>

<div class="row">
    <div class="col-12 col-sm-12 col-md-6 col-lg-4">
        <div class="form-group has-default">
            <label class="label-control mb-3">Buscar</label>
            <input type="text" class="form-control" #filtroTexto>
        </div>
    </div>

    <div class="col-12 col-sm-12 col-md-6 col-lg-4">
        <div class="form-group">
            <label class="label-control">Filtrar por estado</label>
            <select class="form-control selectpicker show-tick" #filtroEstado data-style="btn btn-default" title=""
                data-size="7" data-live-search="false">
                <option value="">Ninguno</option>
                <option value="validado">Validado</option>
                <option value="anulado">Anulado</option>
            </select>
        </div>
    </div>

    <div class="col-12 col-sm-12 col-md-6 col-lg-4">
        <button class="btn btn-primary btn-buscar" (click)="filtrarDatos()"><i class="fas fa-search fa-lg"></i></button>
    </div>

</div>

<div class="mb-4">
    <ngx-datatable class="material" [rows]="rows" [scrollbarH]="true" [messages]="messages" [columnMode]="ColumnMode.force"
    [headerHeight]="50" [footerHeight]="50" rowHeight="auto" [limit]="15">


    <ngx-datatable-column name="fila_numero">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>#</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.fila_numero}}</span>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="numero_boleta">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Boleta</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.numero_boleta}}</span>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="estado">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Estado</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.estado}}</span>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="nombre_banco">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Banco</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.nombre_banco}}</span>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="monto_depositado">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Monto Deposito</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.monto_depositado}}</span>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="monto">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Monto Ajuste</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.monto}}</span>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="tipo_ajuste">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Tipo</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.tipo_ajuste}}</span>
        </ng-template>
    </ngx-datatable-column>


    <ngx-datatable-column name="fecha_sistema">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Fecha</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
            <span class="font-weight-bold">{{row.fecha_sistema_formateada}}</span>
        </ng-template>
    </ngx-datatable-column>


    <ngx-datatable-column name="Acciones" [width]="100">
        <ng-template let-column="column" ngx-datatable-header-template>
            <span>Acciones</span>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>

            <button class="btn btn-primary btn-sm" (click)="detalleAjuste(row)" data-toggle="tooltip"
            title="Detalles"><i class="fas fa-info-circle fa-lg"></i></button>

<!-- 
            
            <button *ngIf="row.estado === 'validado'" class="btn btn-primary btn-sm" (click)="modificarAjuste(row)" data-toggle="tooltip"
            title="Editar"><i class="fas fa-edit fa-lg"></i></button>

            <button *ngIf="row.estado === 'validado'" class="btn btn-primary btn-sm" (click)="anularAjuste(row)" data-toggle="tooltip"
                title="Anular cobro"><i class="fas fa-exclamation-triangle fa-lg"></i></button> -->

                
        </ng-template>
    </ngx-datatable-column>

</ngx-datatable>
</div>