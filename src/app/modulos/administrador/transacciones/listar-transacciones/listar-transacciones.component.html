<div class="row">

    <div class="col-12 col-sm-12 col-md-8 col-lg-8">
        <h2>Transacciones</h2>
    </div>

    <div class="col-12 col-sm-12 col-md-4 col-lg-4">
        <h3>Total: Q{{formatearCantidad(totalTransaccionesFiltradas)}}</h3>
    </div>

</div>


<div class="row">

    <div class="col-12">
        <h4>Filtros</h4>
    </div>

    <div class="col-12 col-sm-12 col-md-6 col-lg-4">
        <div class="form-group has-default">
            <label class="label-control">Filtro de texto</label>
            <input type="text" class="form-control" placeholder="Buscar" #filtroTexto>
        </div>
    </div>

    <div class="col-12 col-sm-12 col-md-6 col-lg-4">
        <div class="form-group has-default">
            <label class="label-control">Rango de fechas</label>
            <input type="text" class="form-control" id="rangoFechas" placeholder="Fechas">
        </div>
    </div>

    <div class="col-12 col-sm-12 col-md-6 col-lg-4 mt-3">
        <button class="btn btn-primary" (click)="filtrarDatos()"><i class="fas fa-search fa-lg"></i></button>
    </div>

</div>

<div class="row">
    <div class="ml-3">
        <button class="btn btn-primary" (click)="crearPdf()">PDF <i class="fas fa-file-download fa-lg"></i></button>
        <button class="btn btn-primary" (click)="crearExcel()">Excel <i class="fas fa-file-download fa-lg"></i></button>
    </div>
</div>

<div class="mb-4">
    <ngx-datatable class="material" [rows]="rows" [scrollbarH]="true" [messages]="messages"
        [columnMode]="ColumnMode.force" [headerHeight]="50" [footerHeight]="50" rowHeight="auto" [limit]="15">


        <ngx-datatable-column name="fila_numero">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>NO.</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.fila_numero}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="nombre_cliente">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>CLIENTE</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.nombre_cliente}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="tipo_transaccion">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>TIPO TRANSACCION</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.tipo_transaccion}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="fecha_transaccion_usuario_formateada">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>FECHA_USUARIO</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.fecha_transaccion_usuario_formateada}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="fecha_transaccion_sistema_formateada">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>FECHA_SISTEMA</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.fecha_transaccion_sistema_formateada}}
            </ng-template>
        </ngx-datatable-column>


        <ngx-datatable-column name="total_transaccion">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>TOTAL COBRO</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.total_transaccion}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="numero_factura">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>NO. FACTURA</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.numero_factura}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="numero_recibo">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>NO. RECIBO</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.numero_recibo}}
            </ng-template>
        </ngx-datatable-column>


        <ngx-datatable-column name="Acciones" [width]="225">
            <ng-template let-column="column" ngx-datatable-header-template>
                <span>Acciones</span>
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>

                <button class="btn btn-primary btn-sm" (click)="detalleTransaccion(row)" data-toggle="tooltip"
                    title="Detalles"><i class="fas fa-info-circle fa-lg"></i></button>


            </ng-template>
        </ngx-datatable-column>

    </ngx-datatable>
</div>